{% extends 'frontend/base.html' %}
{% load static %}

{% block link %}
    <link type="text/css" rel="stylesheet" href="{% static 'css/app_weather/result.css' %}">
{% endblock link %}

{% block title %}
    Wetter: Vorhersage
{% endblock title %}

{% block content %}
    <div class="grid-container">
        <div class="grid-back">
            <a href="{% url 'frontend-main' %}" id="sign-back">
                <i class="bi bi-backspace-fill"></i>
            </a>
        </div>
        <div class="grid-address">
            <h3>{{ address }}</h3>
        </div>
        <div class="grid-warning">
            <div>
                <h6>{{ alert_from }}: {{ alert_event }}</h6>
                <marquee behavior="alternate">{{ alert_msg }}</marquee>
            </div>
        </div>
        <div class="grid-empty-left"></div>
        <div class="grid-empty-right"></div>
        <div class="grid-temperature">
            <div class="card">
                <div class="card-header">
                    <h6>Temperaturen</h6>
                    <i class="bi bi-thermometer-half"></i>
                </div>
                <div class="card-body">
                    <div id="chart-temperature"></div>
                </div>
            </div>
        </div>
        <div class="grid-map">
            <div class="card">
                <div class="card-header">
                    <h6>Karte</h6>
                    <i class="bi bi-globe"></i>
                </div>
                <div class="card-body">
                    <div id="map"></div>
                </div>
            </div>
        </div>
        <div class="grid-rain">
            <div class="card">
                <div class="card-header">
                    <h6>Niederschlagsmengen in mm</h6>
                    <i class="bi bi-cloud-drizzle"></i>
                </div>
                <div class="card-body">
                    <div id="chart-rain"></div>
                </div>
            </div>
        </div>
        <div class="grid-wind">
            <div class="card">
                <div class="card-header">
                    <h6>Windgeschwindigkeiten in km/h</h6>
                    <i class="bi bi-wind"></i>
                </div>
                <div class="card-body">
                    <div id="chart-wind"></div>
                </div>
            </div>
        </div>
        <div class="grid-pop">
            <div class="card">
                <div class="card-header">
                    <h6>Niederschlagswahrscheinlichkeit in %</h6>
                    <i class="bi bi-umbrella"></i>
                </div>
                <div class="card-body">
                    <div id="chart-precipitation"></div>
                </div>
            </div>
        </div>
        <div class="grid-copy">
            <p>Die Wetterdaten werden bereitgestellt von <a href="https://openweathermap.org/" target="_blank">openweathermap.org</a>.</p>
        </div>
    </div>
{% endblock content %}

{% block script %}
    <script>
        const arr_temperature = {{ temp_celcius|safe }};
        const arr_rain = {{ rain_amount|safe }};
        const arr_wind = {{ wind_speed|safe }};
        const arr_hours = {{ l_list_hours|safe }};
        const arr_pop = {{ pop|safe }};
        const geo_lat = {{ geo_lat|safe }};
        const geo_lon = {{ geo_lon|safe }};
        const temp_min = {{ temp_min|safe }};
        const temp_max = {{ temp_max|safe }};

        console.log(geo_lat, geo_lon);
    </script>
    <script type="text/javascript" src="{% static 'js/app_weather/result.js' %}"></script>
{% endblock script %}
